<!doctype HTML>
<html>
	<head>
		<title>My Simple Game</title>
		<style type="text/css"> <!-- http://learnertobeginner.blogspot.com/search?q=command+prompt -->
			.console {
				font-family:Terminal;
				color: #C0C0C0;
				background: #000000;
				border: 3px double #CCCCCC;
				padding: 10px;
			}
		</style>
		<script>
			//Global Variables
			var currentLocation = "theLab";
			
			function updateDisplay() {
				var msg = "";
				switch (currentLocation) {
					case "theLab" : var msg = "The Lab";
						break;
					case "tardis" : var msg = "Inside the TARDIS";
						break;
					case "dungeon": var msg = "Pit of Despair";
						break;
					default       : var msg = "currentLocation matches no cases";
				}
				var taPtr = document.getElementById("taDisplay");
				var history = taPtr.value;
				taPtr.value = msg + "\n" + history;
			}
			
			function go(dir) {
				var before = currentLocation;
				switch(dir) {
					case ('North'):
						if (currentLocation === "dungeon") {
							currentLocation = "theLab";
						} else if (currentLocation === "theLab") {
							currentLocation = "tardis"
						} else {
							//TODO: Fix this.
							alert("You can't go that way.");
						}
						break;
					case ('South'):
						if (currentLocation === "tardis") {
							currentLocation = "theLab";
						} else if (currentLocation === "theLab") {
							currentLocation = "dungeon"
						} else {
							//TODO: Fix this.
							alert("You can't go that way.");
						}
						break;
					case ('East'):
						break;
					case ('West'):
						break;
					default: alert("Internal Error!  Unknown Direction: " + dir + ".");
				}
				if (currentLocation != before) {
					updateDisplay();
				}
			}
		</script>
	</head>
	<body class="console" onload="updateDisplay();"> <!-- This should display the entire game as if running from a command prompt. -->

		<h2>Simple Game</h2>
		<textarea id="taDisplay" style="width:800px; height:600px;">Welcome to The Lab.</textarea>
		<br>
		<input type="button" value="North" onclick="go('North');">
		<input type="button" value="South" onclick="go('South');">
		<input type="button" value="East" onclick="go('East');">
		<input type="button" value="West" onclick="go('West');">
	</body>
</html>